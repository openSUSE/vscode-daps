(()=>{var e={12(e,t,r){const n=r(398),o=r(896),i=r(928),a=r(611),s=r(692),{exec:c}=r(317),{DOMParser:l}=r(978),u=new l({errorHandler:{warning:null},locator:{}},{ignoreUndefinedEntities:!0}),d=r(317).execSync,p=["html","pdf"];class g{constructor(){this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event}refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e}getChildren(e){if(!n.window.visibleTextEditors.some(e=>"xml"===e.document.languageId))return this._createEmptyStructure("No DocBook XML editor opened");const t=this._getActiveFile();if(!t)return this._createEmptyStructure("No DocBook XML editor opened");const r=this._parseXmlDocument(t),o=this._getStructureElements(),i=function(e,t){const r=[],n=e.getElementsByTagName("*");for(let e=0;e<n.length;e++){const o=n[e],i=o.tagName.toLowerCase();t.includes(i)&&r.push(o)}return r}(r,o);return 0===i.length?this._createEmptyStructure("The current document has no structure"):this._createTreeItems(e,i,o)}_getActiveFile(){return T()}_parseXmlDocument(e){const t=o.readFileSync(e,"utf-8");return u.parseFromString(t,"text/xml")}_getStructureElements(){return n.workspace.getConfiguration("daps").get("structureElements")}_createEmptyStructure(e){return[{label:e,collapsibleState:n.TreeItemCollapsibleState.None}]}_createTreeItems(e,t,r){return t.filter(t=>this._shouldIncludeElement(e,t,r)).map(e=>this._createTreeItem(e,r))}_shouldIncludeElement(e,t,r){return!e&&!r.includes(t.parentNode.nodeName)||e&&`${t.parentNode.nodeName}_${t.parentNode.lineNumber}`===e.id}_createTreeItem(e,t){const r=this._determineCollapsibleState(e,t);return{label:this._createLabel(e),collapsibleState:r,id:`${e.nodeName}_${e.lineNumber}`,parentId:`${e.parentNode.nodeName}_${e.parentNode.lineNumber}`,command:{title:"Activate related line",command:"daps.focusLineInActiveEditor",arguments:[e.lineNumber.toString()]}}}_determineCollapsibleState(e,t){for(let r=0;r<e.childNodes.length;r++)if(t.includes(e.childNodes[r].nodeName))return n.TreeItemCollapsibleState.Collapsed;return n.TreeItemCollapsibleState.None}_createLabel(e){const t=e.getElementsByTagName("title")[0],r=t?t.textContent:"*** MISSING TITLE ***";return`(${e.nodeName.substring(0,1)}) "${r}"`}}class m{constructor(){this._cachedCodeLenses=new Map,this._onDidChangeCodeLensesEmitter=new n.EventEmitter,this.onDidChangeCodeLenses=this._onDidChangeCodeLensesEmitter.event}provideCodeLenses(e){return this._cachedCodeLenses.get(e.uri.toString())||[]}refresh(e){const t=this._computeCodeLenses(e);this._cachedCodeLenses.set(e.uri.toString(),t),this._onDidChangeCodeLensesEmitter.fire()}_computeCodeLenses(e){const t=(new l).parseFromString(e.getText()),r=t.getElementsByTagName("resource"),o={};for(let e=0;e<r.length;e++){const t=r[e];o[t.getAttribute("xml:id")]=t.getAttribute("href")}const a=t.getElementsByTagName("module"),s=[];for(let t=0;t<a.length;t++){const r=a[t],c=r.lineNumber-1,l=r.getAttribute("resourceref");if(l){const t=new n.Range(c,0,c,0),r=n.window.activeTextEditor.document.uri.fsPath,a=r.substring(0,r.lastIndexOf("/")),u=n.workspace.getConfiguration("daps").get("showAssemblyCodelens");if("peek"==u||"both"==u){const r=n.Uri.file(`${a}/${o[l]}`);s.push(new n.CodeLens(t,{title:`Peek into ${i.basename(o[l])} `,command:"editor.action.peekLocations",arguments:[e.uri,t.start,[new n.Location(r,new n.Range(0,0,15,0))]]}))}"link"!=u&&"both"!=u||s.push(new n.CodeLens(t,{title:"Open in a new tab",command:"daps.openFile",arguments:[`${a}/${o[l]}`]}))}}return s}}class h{constructor(){this._cachedCodeLenses=new Map,this._onDidChangeCodeLensesEmitter=new n.EventEmitter,this.onDidChangeCodeLenses=this._onDidChangeCodeLensesEmitter.event}provideCodeLenses(e){return this._cachedCodeLenses.get(e.uri.toString())||[]}refresh(e){const t=this._computeCodeLenses(e);this._cachedCodeLenses.set(e.uri.toString(),t),this._onDidChangeCodeLensesEmitter.fire()}_computeCodeLenses(e){const t=n.workspace.getConfiguration("daps"),r=t.get("xrefCodelensExcludeDirs");x(`codelens:xrefCodelensExcludeDirs: ${r}`);const o=e.languageId;x(`codelens:xref:languageId: ${o}`);const i=this._extractXrefElements(e,o);x(`codelens:xref:xrefElements.length: ${i.length}`);const a=n.workspace.workspaceFolders[0].uri,s=[];for(let c=0;c<i.length;c++){const l=this._getXrefLinkend(i[c],o);x(`codelens:xref:xrefLinkend: ${l}`);const u=D(a.fsPath,r,this._getSearchPattern(l,o),"asciidoc"===o?/\.adoc$/:/\.xml$/);x(`codelens:xref:matchedReferers: ${u.length}`);const d=i[c].lineNumber-("xml"===o?1:0),p=i[c].columnNumber,g=new n.Range(new n.Position(d,p),new n.Position(d,p));u.forEach((r,n)=>{x(`codelens:xref:matchedReferer ${n}: ${r.file}`);const o=t.get("showXrefCodelens");if("peek"===o||"both"===o){const t=this._createPeekCodeLens(e,g,r);s.push(t)}if("link"===o||"both"===o){const e=this._createOpenCodeLens(g,r);s.push(e)}x(`codelens:xref:codeLenses.length: ${s.length}`)})}return s}_extractXrefElements(e,t){if("asciidoc"===t)return this._parseAsciidocXrefs(e);if("xml"===t){const t=u.parseFromString(e.getText());return Array.from(t.getElementsByTagName("xref"))}return[]}_parseAsciidocXrefs(e){const t=e.getText(),r=/<<([^,>]+)(?:,([^>]*))?>>|xref:([^[\]]+)\[([^\]]*)\]/g,n=[];let o;for(;null!==(o=r.exec(t));){const t=o[1]||o[3],r=o[2]||o[4]||null;n.push({lineNumber:e.positionAt(o.index).line,columnNumber:e.positionAt(o.index).character,match:t,title:r})}return n}_getXrefLinkend(e,t){return"asciidoc"===t?e.match:"xml"===t?e.getAttribute("linkend"):null}_getSearchPattern(e,t){return"asciidoc"===t?`(?:\\[#(${e})(?:,[^\\]]*)?\\]|\\[\\[(${e})(?:,[^\\]]*)?\\]\\])`:"xml"===t?`xml:id="${e}"`:null}_createPeekCodeLens(e,t,r){const o=e.uri,a=new n.Range(new n.Position(r.line,0),new n.Position(r.line+15,0)),s=n.Uri.file(r.file),c=new n.Location(s,a);return new n.CodeLens(t,{title:`Peek into ${i.basename(r.file)}`,command:"editor.action.peekLocations",arguments:[o,t.start,[c]]})}_createOpenCodeLens(e,t){return new n.CodeLens(e,{title:"Open in a new tab",command:"daps.openFile",arguments:[t.file,t.line]})}}class f{constructor(){this._cachedCodeLenses=new Map,this._onDidChangeCodeLensesEmitter=new n.EventEmitter,this.onDidChangeCodeLenses=this._onDidChangeCodeLensesEmitter.event}provideCodeLenses(e){const t=this._cachedCodeLenses.get(e.uri.toString());return t?(x(`${this._getLanguageId()}:include:codelens: Returning ${t.length} cached lenses for ${e.uri.fsPath}.`),t):(x(`${this._getLanguageId()}:include:codelens: No cached lenses for ${e.uri.fsPath}. Returning empty array. Lenses will be computed on save.`),[])}refresh(e){x(`${this._getLanguageId()}:include:codelens: Refresh triggered for ${e.uri.fsPath}.`);const t=this._computeCodeLenses(e);this._cachedCodeLenses.set(e.uri.toString(),t),x(`${this._getLanguageId()}:include:codelens: Caching ${t.length} new lenses.`),this._onDidChangeCodeLensesEmitter.fire()}_computeCodeLenses(e){const t=e.getText(),r=i.dirname(e.uri.fsPath),a=this._getIncludeRegex();let s;const c=[],l=n.workspace.getConfiguration("daps").get("showXIncludeCodelens"),u=this._getLanguageId();for(x(`${u}:include:codelens: Starting computation for ${e.uri.fsPath}`),x(`${u}:include:codelens: Using regex: ${a}`);null!==(s=a.exec(t));){x(`${u}:include:codelens: Found match: ${s[0]}`);const t=s[1];x(`${u}:include:codelens: Extracted path: ${t}`);const a=i.resolve(r,t);x(`${u}:include:codelens: Resolved absolute path: ${a}`);const d=e.positionAt(s.index).line,p=new n.Range(d,0,d,s[0].length),g=n.Uri.file(a);o.existsSync(a)?(x(`${u}:include:codelens: File exists. Creating CodeLens.`),this._addCodeLensesForFile(c,e.uri,p,g,t,l)):x(`${u}:include:codelens: File does NOT exist. Skipping CodeLens.`)}return x(`${u}:include:codelens: Finished computation. Found ${c.length} lenses.`),c}_addCodeLensesForFile(e,t,r,o,a,s){"peek"!==s&&"both"!==s||e.push(new n.CodeLens(r,{title:`Peek into ${i.basename(a)}`,command:"editor.action.peekLocations",arguments:[t,r.start,[new n.Location(o,new n.Range(0,0,15,0))]]})),"link"!==s&&"both"!==s||e.push(new n.CodeLens(r,{title:"Open in a new tab",command:"daps.openFile",arguments:[o.fsPath]}))}_getLanguageId(){throw new Error("Method '_getLanguageId()' must be implemented.")}_getIncludeRegex(){throw new Error("Method '_getIncludeRegex()' must be implemented.")}}class w extends f{_getLanguageId(){return"asciidoc"}_getIncludeRegex(){return/^\s*include::([^[]+)\[[^\]]*\]/gm}}class b extends f{_getLanguageId(){return"xml"}_getIncludeRegex(){return/<xi:include\s+href="([^"]+)"/g}}function v(e){var t=o.readFileSync(e,"utf-8");x(`scrollmap:filename ${e}`);let r=[];x(`scrollmap:docContent length ${t.length}`);const n=t.split("\n");x(`scrollmap:docContent:lines ${n.length}`);for(let e=0;e<n.length;e++){let t=n[e].match(/xml:id="([^"]+)"/i);if(t){let n=t[1];x(`scrollmap:idValue ${n}`),r.push({line:e+1,id:n})}}return x(`scrollmap:length ${r.length}`),r}function x(e){const t=n.workspace.getConfiguration("daps");"output"==t.get("enableDbg")?dbgChannel.appendLine(`dbg:daps: ${e}`):"console"==t.get("enableDbg")?console.log(`dbg:daps ${e}`):"both"==t.get("enableDbg")&&(dbgChannel.appendLine(`dbg:daps ${e}`),console.log(`dbg:daps ${e}`))}async function y(){if(!n.workspace.workspaceFolders)return void n.window.showErrorMessage("Cannot get DC file: No workspace folder is open.");const e=n.workspace.workspaceFolders[0].uri;var t;const r=n.workspace.getConfiguration("daps");return arguments[0]?x(`DCfile from context: ${t=(t=arguments[0]).path.split("/").pop()}`):r.get("DCfile")?x(`DC file from config: ${t=r.get("DCfile")}`):(t=await n.window.showQuickPick(function(e){if(!e){if(!(n.workspace.workspaceFolders&&n.workspace.workspaceFolders.length>0))return[];e=n.workspace.workspaceFolders[0].uri}x(`folder: ${e.path}`);var t=o.readdirSync(e.path);x(`no of all files: ${t.length}`);var r=t.filter(e=>e.startsWith("DC-"));return x(`no of DC files: ${r.length}`),r}(e)),x(`DC file form picker: ${t}`)),t}async function E(){var e=n.workspace.getConfiguration("daps").get("buildTarget");return x(e?`buildTarget from config: ${e}`:`buildTarget form picker: ${e=await n.window.showQuickPick(p)}`),e}function N(e){const t=n.workspace.getConfiguration("daps");var r;x("get-ent script: "+(r=t.get("dapsRoot")?`${t.get("dapsRoot")}/libexec/getentityname.py`:"/usr/share/daps/libexec/getentityname.py"));var o=`${r} ${e}`;x(`get-ent cmd: ${o}`);var i=d(o).toString().trim().split(" ");x(`num of entity files: ${i.length}`);var a=t.get("excludeXMLentityFiles");if(a)for(var s=0;s<i.length;s++)for(var c=0;c<a.length;c++)if(i[s].endsWith(a[c])){x(`excluding ent file: ${a[c]}`),i.splice(s,1);break}return x(`entity files: ${i}`),i}function C(e,t=new Set){if(0===t.size&&t.add(e),!e||!o.existsSync(e))return x(`getADOCattributeFiles: File does not exist or is not provided: ${e}`),[];x(`getADOCattributeFiles: Processing ${e}`);const r=o.readFileSync(e,"utf-8"),n=i.dirname(e),a=/^\s*include::([^[]+)\[[^\]]*\]/gm;let s,c=[];for(;null!==(s=a.exec(r));){const e=s[1],r=i.resolve(n,e);t.has(r)?x(`getADOCattributeFiles: Circular include detected, skipping ${r}`):(t.add(r),c.push(r),c=c.concat(C(r,t)))}return c}function T(e){var t;if(e)x(`XMLfile from context: ${t=e.path}`);else{if(!n.window.activeTextEditor)return console.error("No XML file specified or active"),!1;x(`XML file from active editor: ${t=n.window.activeTextEditor.document.fileName}`)}return t}function D(e,t,r,n){let a=[];return o.readdirSync(e).forEach(s=>{const c=i.join(e,s);if(x(`searchInFiles:filePAth ${c}`),o.statSync(c).isDirectory()){if(i.basename(c).startsWith("."))return;if(t.includes(i.basename(c)))return void x(`codelens:xref skipping excludeDir: ${i.basename(c)}`);a=a.concat(D(c,t,r,n))}else if(n.test(c)){const e=o.readFileSync(c,"utf8").split("\n"),t=new RegExp(r,"g");e.forEach((e,r)=>{for(;null!==(match=t.exec(e));)a.push({file:c,line:r,column:match.index,match:match[1]})})}}),a}function S(e){function t(e){return e.replace(/<[^>]*>/g,"")}const r=N(e),n=new Map;r.push(e),r.forEach(e=>{try{const r=o.readFileSync(e,"utf8"),i=/<!ENTITY\s+([^\s]+)\s+"([^"]+)"/gs;let a;for(;null!==(a=i.exec(r));){const[,e,r]=a,o=r.replace(/&nbsp;/g," ").replace(/&reg;/g,"*");if(/&#\S+;/.test(o)){x(`Skipping entity '${e}' because its value contains a numeric character reference.`);continue}const i=t(o);n.set(e,i)}}catch(t){x(`Error reading or parsing entity file ${e}: ${t.message}`)}});const i=new Map,a=/&([a-zA-Z0-9_.-]+);/g;for(const[e,r]of n.entries()){let o,s,c=r;const l=new Set;for(;null!==(o=a.exec(c));){const t=o[1];if(l.has(t)){x(`Circular entity reference detected for '${t}' in '${e}'. Skipping further resolution.`);break}l.add(t);const r=n.get(t);if(void 0!==r&&(s=c,c=c.replace(o[0],r),a.lastIndex=0,c===s)){x(`Resolution stalled for '${e}'. Breaking to prevent infinite loop.`);break}}const u=t(c),d=`&${e};`;i.has(u)?i.get(u).push(d):i.set(u,[d])}return x(`Number of entity pairs: ${i.size}`),i}e.exports={activate:function(e){dbgChannel=n.window.createOutputChannel("DAPS"),x('Congratulations, your extension "daps" is now active!'),x("Debug channel opened");var t=e.extensionPath;function r(){for(let e=0;e<n.window.terminals.length;e++)if("DAPS"===n.window.terminals[e].name)return n.window.terminals[e];return n.window.createTerminal("DAPS")}x(`Extension path: ${t}`);const l={panel:void 0,dispose:function(){this.panel=void 0}};let u;e.subscriptions.push(n.workspace.onDidSaveTextDocument(e=>{if("xml"===e.languageId){const t=e.uri.path,r=v(t);t==T()&&l.panel&&(n.commands.executeCommand("daps.docPreview"),l.panel.webview.postMessage({command:"updateMap",map:r}))}n.commands.executeCommand("docStructureTreeView.refresh"),!0===n.workspace.getConfiguration("daps").get("linkCheckOnSave")&&("xml"!==e.languageId&&"asciidoc"!==e.languageId||(x(`linkcheck: onDidSaveTextDocument: Running link check on save for ${e.fileName}.`),O(e)))})),e.subscriptions.push(n.workspace.onDidOpenTextDocument(e=>{A(e),I(e)})),e.subscriptions.push(n.window.onDidChangeActiveTextEditor(e=>{if(e){const t=e.document;n.commands.executeCommand("docStructureTreeView.refresh"),"xml"===t.languageId&&v(t.fileName)}})),e.subscriptions.push(n.window.onDidChangeVisibleTextEditors(()=>{n.commands.executeCommand("docStructureTreeView.refresh")})),e.subscriptions.push(n.workspace.onDidChangeTextDocument(e=>{"file"!==e.document.uri.scheme||"xml"!==e.document.languageId&&"asciidoc"!==e.document.languageId||(clearTimeout(u),u=setTimeout(()=>{x("Running debounced diagnostic update."),A(e.document),I(e.document)},500))}));const f=n.languages.createDiagnosticCollection("entities");e.subscriptions.push(f);const D=n.languages.createDiagnosticCollection("attributes");e.subscriptions.push(D);const k=n.languages.createDiagnosticCollection("links");async function L(e,t,o){if(!n.workspace.workspaceFolders)return n.window.showErrorMessage("Cannot run DAPS command: No workspace folder is open."),!1;const i=n.workspace.workspaceFolders[0].uri,a=n.workspace.getConfiguration("daps");try{if(process.chdir(i.path),x(`cwd is ${i.path}`),a.get("runTerminal")){const t=r();x("Running command in terminal"),t.sendText(e),t.show(!0)}else{n.window.showInformationMessage(`Running ${e}`);let r=d(e);o&&await o(r),n.window.showInformationMessage(t)}return!0}catch(e){return n.window.showErrorMessage(`Command failed: ${e}`),!1}}function A(e){const t=n.workspace.getConfiguration("daps");if(!t.get("replaceWithXMLentity")||"xml"!==e.languageId)return void f.clear();if("file"!==e.uri.scheme)return x("entity:diagnostics: Document is not a file, skipping entity diagnostics."),void f.clear();const r=t.get("replaceWithXMLentityIgnoreTags"),o=[],i=t.get("replaceWithIgnorePhrases"),a=e.getText(),s=new RegExp(`<(${r.join("|")})\\b[^>]*>([\\s\\S]*?)<\\/\\1>`,"g");let c;for(;null!==(c=s.exec(a));){const e=c.index+c[0].indexOf(c[2]),t=e+c[2].length;o.push({start:e,end:t})}const l=/<!--[\s\S]*?-->/g;let u;for(;null!==(u=l.exec(a));)o.push({start:u.index,end:u.index+u[0].length});const d=/"([^"]+)"/g;let p;for(;null!==(p=d.exec(a));){const e=p.index+1;o.push({start:e,end:e+p[1].length})}const g=/="([^"]+)"/g;let m;for(;null!==(m=g.exec(a));){const e=m.index+m[0].indexOf(m[1]),t=e+m[1].length;o.push({start:e,end:t})}o.length>0&&x(`Found ${o.length} no-replace zones.`);const h=S(e.fileName);if(0===h.size)return void f.clear();const w=[],b=[];Array.from(h.entries()).sort((e,t)=>t[0].length-e[0].length).forEach(([t,r])=>{const s=`\\b(${t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&").replace(/\s+/g,"\\s+")})\\b`,c=new RegExp(s,"gi");let l;if(!i.some(e=>e.toLowerCase()===t.toLowerCase()))for(;null!==(l=c.exec(a));){x(`entity match: ${l[0]}`);const t=a.charAt(l.index-1),i=a.charAt(l.index+l[0].length);if("&"===t&&";"===i)continue;const s=a.substring(l.index-2,l.index),c=a.substring(l.index+l[0].length,l.index+l[0].length+2);if(/\S[-+./]$/.test(s)||/^[-+./]\S/.test(c))continue;if(o.some(e=>l.index>=e.start&&l.index+l[0].length<=e.end))continue;const u=e.positionAt(l.index),d=e.positionAt(l.index+l[0].length),p=new n.Range(u,d);if(!b.some(e=>p.intersection(e))){const t=new n.Diagnostic(p,`Consider replacing with an entity (${r.length} options)`,n.DiagnosticSeverity.Warning);t.code="replaceWithEntity",t.source="DAPS",w.push(t),b.push(p),t.relatedInformation=r.map(t=>new n.DiagnosticRelatedInformation(new n.Location(e.uri,p),t))}}}),f.set(e.uri,w)}function I(e){const t=n.workspace.getConfiguration("daps");if(!t.get("replaceWithADOCattribute")||"asciidoc"!==e.languageId)return void D.clear();if("file"!==e.uri.scheme)return x("attribute:diagnostics: Document is not a file, skipping attribute diagnostics."),void D.clear();const r=t.get("replaceWithADOCattributeIgnoreBlocks"),i=[],a=t.get("replaceWithIgnorePhrases"),s=e.getText(),c=new RegExp(`^\\[(${r.join("|")})\\]\\n((?:.|\\n)*?)(?=\\n\\S|$)`,"gm");let l;for(;null!==(l=c.exec(s));)i.push({start:l.index,end:l.index+l[0].length});const u=/^(----|....)\n([\s\S]*?)\n\1$/gm;let d;for(;null!==(d=u.exec(s));)i.push({start:d.index,end:d.index+d[0].length});const p=/(`{1,2})([^`]+?)\1/g;let g;for(;null!==(g=p.exec(s));){const e=g.index;i.push({start:e,end:e+g[0].length})}const m=/^\/\/.*/gm;let h;for(;null!==(h=m.exec(s));)i.push({start:h.index,end:h.index+h[0].length});const f=/^\/{4,}\n[\s\S]*?\n\/{4,}$/gm;for(;null!==(h=f.exec(s));)i.push({start:h.index,end:h.index+h[0].length});const w=/\[\[[^\]]+\]\]|\[#[^\]]+\]/g;let b;for(;null!==(b=w.exec(s));)i.push({start:b.index,end:b.index+b[0].length});const v=/<<[^>]+>>/g;let y;for(;null!==(y=v.exec(s));)i.push({start:y.index,end:y.index+y[0].length});const E=/"([^"]+)"/g;let N;for(;null!==(N=E.exec(s));){const e=N.index+1;i.push({start:e,end:e+N[1].length})}const T=/\b(https?|ftp|file|mailto|irc|news|telnet):\/\/[^\s,>\])]+/g;let S;for(;null!==(S=T.exec(s));)i.push({start:S.index,end:S.index+S[0].length});const k=/^:([^:]+):\s+(.*)$/gm;let L;for(;null!==(L=k.exec(s));)i.push({start:L.index,end:L.index+L[0].length});i.length>0&&x(`Found ${i.length} no-replace AsciiDoc blocks.`);const A=function(e){const t=C(e);t.unshift(e);const r=new Map;t.forEach(e=>{try{const t=o.readFileSync(e,"utf8"),n=/^:([^:]+):\s+(.*)$/gm;let i;for(;null!==(i=n.exec(t));){const[,e,t]=i,n=t.trim().replace(/{nbsp}/g," ");r.set(e.trim(),n)}}catch(t){x(`Error reading or parsing AsciiDoc attribute file ${e}: ${t.message}`)}});const n=new Map,i=/\{([a-zA-Z0-9_.-]+)\}/g;for(const[e,t]of r.entries()){let o,a=t;const s=new Set;for(;null!==(o=i.exec(a));){const t=o[1];if(s.has(t)){x(`Circular attribute reference detected for '{${t}}' in ':${e}:'. Skipping further resolution.`);break}s.add(t),r.has(t)&&(a=a.replace(o[0],r.get(t)),i.lastIndex=0)}const c=`:${e}:`;n.has(a)?n.get(a).push(c):n.set(a,[c])}return x(`getADOCattributes: Found ${n.size} resolved AsciiDoc attributes.`),n}(e.fileName);if(0===A.size)return void D.clear();const I=[],q=[];Array.from(A.entries()).sort((e,t)=>t[0].length-e[0].length).forEach(([t,r])=>{if(t.trim().length<2)return;const o=`\\b(${t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&").replace(/\s+/g,"\\s+")})\\b`,c=new RegExp(o,"gi");let l;if(!a.some(e=>e.toLowerCase()===t.toLowerCase()))for(;null!==(l=c.exec(s));){const t=s.charAt(l.index-1),o=s.charAt(l.index+l[0].length);if("{"===t&&"}"===o)continue;const a=s.substring(l.index-2,l.index),c=s.substring(l.index+l[0].length,l.index+l[0].length+2);if(/\S[-+./]$/.test(a)||/^[-+./]\S/.test(c))continue;if(i.some(e=>l.index>=e.start&&l.index+l[0].length<=e.end))continue;const u=e.positionAt(l.index),d=e.positionAt(l.index+l[0].length),p=new n.Range(u,d);if(!q.some(e=>p.intersection(e))){let t=new n.Diagnostic(p,`Consider replacing with an attribute (${r.length} options)`,n.DiagnosticSeverity.Warning);t.relatedInformation=r.map(t=>new n.DiagnosticRelatedInformation(new n.Location(e.uri,p),`{${t.slice(1,-1)}}`)),t.code="replaceWithAttribute",t.source="DAPS",I.push(t),q.push(p)}}}),D.set(e.uri,I)}e.subscriptions.push(k),n.window.activeTextEditor&&(A(n.window.activeTextEditor.document),I(n.window.activeTextEditor.document)),e.subscriptions.push(n.languages.registerCodeActionsProvider("xml",{provideCodeActions(e,t,r,o){const i=[];return r.diagnostics.filter(e=>"replaceWithEntity"===e.code).forEach(t=>{t.relatedInformation&&t.relatedInformation.forEach(r=>{const o=r.message,a=new n.CodeAction(`Replace with ${o}`,n.CodeActionKind.QuickFix);a.edit=new n.WorkspaceEdit,a.edit.replace(e.uri,t.range,o),a.diagnostics=[t],i.push(a)})}),i}})),e.subscriptions.push(n.languages.registerCodeActionsProvider("asciidoc",{provideCodeActions(e,t,r,o){const i=[];return r.diagnostics.filter(e=>"replaceWithAttribute"===e.code).forEach(t=>{t.relatedInformation&&t.relatedInformation.forEach(r=>{const o=r.message,a=new n.CodeAction(`Replace with ${o}`,n.CodeActionKind.QuickFix);a.edit=new n.WorkspaceEdit,a.edit.replace(e.uri,t.range,o),a.diagnostics=[t],i.push(a)})}),i}})),e.subscriptions.push(n.languages.registerCodeActionsProvider(["xml","asciidoc"],{provideCodeActions(e,t,r,o){const i=[];return r.diagnostics.filter(e=>"upgradeToHttps"===e.code).forEach(t=>{const r=new n.CodeAction("Upgrade to HTTPS",n.CodeActionKind.QuickFix);r.edit=new n.WorkspaceEdit;const o=e.getText(t.range).replace("http://","https://");r.edit.replace(e.uri,t.range,o),r.diagnostics=[t],i.push(r)}),i}})),n.commands.registerCommand("daps.focusLineInActiveEditor",async e=>{const t=n.window.activeTextEditor;if(t)if(n.workspace.getConfiguration("daps").get("onClickedStructureItemMoveCursor")){e=Math.max(0,Math.min(e,t.document.lineCount-1));const r=new n.Position(e,0);t.selection=new n.Selection(r,r),t.revealRange(new n.Range(r,r),n.TextEditorRevealType.InCenter);const o=t.document.uri;await n.window.showTextDocument(o,{selection:new n.Range(e,0,e,0),viewColumn:t.viewColumn})}else{const r=t.document.lineAt(e-1).range;t.revealRange(r,n.TextEditorRevealType.InCenter)}}),e.subscriptions.push(n.commands.registerCommand("daps.peekFile",async(e,t)=>{const r=n.Uri.file(e);n.commands.executeCommand("editor.action.peekLocations",r,t.start,[new n.Location(r,t)],"peek")}));const q=new g;e.subscriptions.push(n.window.registerTreeDataProvider("docbookFileStructure",q)),n.commands.registerCommand("docStructureTreeView.refresh",()=>{q.refresh()}),n.commands.registerCommand("daps.openFile",async(e,t)=>{const r=n.workspace.getConfiguration("daps").get("openFileSplit")?n.ViewColumn.Beside:{preview:!1};try{const o=await n.workspace.openTextDocument(e),i=n.window.showTextDocument(o,r),a=Math.max(0,Math.min(t,o.lineCount-1)),s=new n.Position(a,0),c=new n.Range(s,s);(await i).revealRange(c,n.TextEditorRevealType.AtTop),i.selection=new n.Selection(s,s)}catch(e){n.window.showErrorMessage(`Error opening file: ${e.message}`)}});const $=new m,R=new h,M=new w,_=new b;async function O(e){const t=[];k.clear(),await n.window.withProgress({location:n.ProgressLocation.Window,title:"DAPS: Checking links...",cancellable:!1},async r=>{let o;o="xml"===e.languageId?/href="(https?:\/\/[a-zA-Z0-9.?:\-_/#]+(?<![?.:\-_#]))"/g:/(https?:\/\/[a-zA-Z0-9.?:\-_/#]+(?<![?.:\-_#]))/g;const i=await async function(e,t,r,o){const i=e.getText(),a=e.languageId,s=n.workspace.getConfiguration("daps").get("linkCheckIgnoreList"),c=[];if("xml"===a){const e=/<!--[\s\S]*?-->/g;let t;for(;null!==(t=e.exec(i));)c.push({start:t.index,end:t.index+t[0].length})}else if("asciidoc"===a){const e=/^\/\/.*/gm;let t;for(;null!==(t=e.exec(i));)c.push({start:t.index,end:t.index+t[0].length});const r=/^\/{4,}\n[\s\S]*?\n\/{4,}$/gm;for(;null!==(t=r.exec(i));)c.push({start:t.index,end:t.index+t[0].length})}let l,u=0;for(;null!==(l=o.exec(i));){const o=l[1];if(!o)continue;if(s&&s.some(e=>o.includes(e))){x(`linkcheck: Ignoring URL due to ignore list: ${o}`);continue}const i=c.some(e=>l.index>=e.start&&l.index+l[0].length<=e.end);if(i){x(`linkcheck: Ignoring commented out link: ${o}`);continue}u++,x(`linkcheck: Checking ${o}`),r.report({message:`Checking ${o}`});const a=l.index+l[0].indexOf(o),d=a+o.length,p=e.positionAt(a),g=e.positionAt(d),m=new n.Range(p,g),{isValid:h,message:f}=await P(o);if(h){if(x(`linkcheck: Link OK: ${o}`),o.startsWith("http://")){const e=o.replace("http://","https://"),{isValid:r}=await P(e);if(r){const e=new n.Diagnostic(m,"Consider upgrading to HTTPS.",n.DiagnosticSeverity.Warning);e.code="upgradeToHttps",t.push(e)}}}else x(`linkcheck: Broken link: ${o} (${f})`),t.push(new n.Diagnostic(m,f,n.DiagnosticSeverity.Warning))}return u}(e,t,r,o);0===i&&x("linkcheck: No external links found in the document."),x("linkcheck: Finished checking links."),k.set(e.uri,t)})}function P(e){return new Promise(t=>{const r=(e.startsWith("https")?s:a).request(e,{method:"HEAD",timeout:5e3},e=>{e.statusCode>=200&&e.statusCode<400?t({isValid:!0,message:`Status: ${e.statusCode}`}):t({isValid:!1,message:`Broken link (Status: ${e.statusCode})`})});r.on("timeout",()=>{r.destroy(),t({isValid:!1,message:"Request timed out"})}),r.on("error",e=>{"ENOTFOUND"===e.code||"EAI_AGAIN"===e.code?t({isValid:!1,message:`Broken link (DNS lookup failed for ${e.hostname})`}):t({isValid:!1,message:`Broken link (Error: ${e.message})`})}),r.end()})}function U(e){const t=n.workspace.getConfiguration("daps");var r=[];return r.push(t.get("dapsExecutable")),t.get("dapsRoot")&&r.push("--dapsroot "+t.get("dapsRoot")),t.get("verbosityLevel")&&t.get("runTerminal")&&r.push("-v"+t.get("verbosityLevel")),t.get("styleRoot")&&r.push("--styleroot "+t.get("styleRoot")),e.DCfile?r.push("-d "+e.DCfile):e.XMLfile&&r.push("-m "+e.XMLfile),e.cmd?r.push(e.cmd):e.buildTarget&&r.push(e.buildTarget),e.rootId&&r.push("--rootid "+e.rootId),e.options&&r.push(e.options.join(" ")),x(`dapsCmd: ${r.join(" ")}`),r.join(" ")}async function F(e){if(1==n.workspace.getConfiguration("daps").get("autoSave")){const t=n.workspace.textDocuments;x(`Number of text documents: ${t.length}`);for(let r=0;r<t.length;r++)if(e==t[r].fileName&&t[r].isDirty)try{return await t[r].save(),x(`document ${e} saved`),!0}catch(e){return n.window.showErrorMessage(e.message),!1}}}e.subscriptions.push(n.languages.registerCodeLensProvider({pattern:n.workspace.getConfiguration("daps").get("dbAssemblyPattern")},$)),e.subscriptions.push(n.languages.registerCodeLensProvider({pattern:"**/*.{xml,adoc}"},R)),e.subscriptions.push(n.languages.registerCodeLensProvider({pattern:"**/*.{xml,adoc}",scheme:"file"},M)),e.subscriptions.push(n.languages.registerCodeLensProvider({pattern:"**/*.{xml,adoc}",scheme:"file"},_)),e.subscriptions.push(n.workspace.onDidSaveTextDocument(e=>{const t=n.workspace.getConfiguration("daps").get("dbAssemblyPattern");n.languages.match({pattern:t},e)&&$.refresh(e),"asciidoc"!==e.languageId&&"xml"!==e.languageId||("asciidoc"===e.languageId?M.refresh(e):_.refresh(e),R.refresh(e))})),n.workspace.getConfiguration("daps").get("autocompleteXMLentities")&&e.subscriptions.push(n.languages.registerCompletionItemProvider("xml",{provideCompletionItems(e,t,r,i){if(x(`entity:doc: ${e.fileName}, pos: ${t.line}, token: ${r.isCancellationRequested}, context: ${i.triggerKind}`),"file"!==e.uri.scheme)return void x("entity:autocomplete: Document is not a file, skipping entity completion.");let a=N(e.fileName);x(`entity:Number of entity files: ${a.length}`);let s=function(e){var t=[];return e.forEach(e=>{t=t.concat(o.readFileSync(e,"utf8").split("\n").filter(e=>e.match(/^<!ENTITY [^%]/)))}),x(`size of entList: ${t.length}`),t.map(function(e){return`${e.split(" ")[1]};`})}(a);x(`entity:Number of entities: ${s.length}`);let c=[];return s.forEach(r=>{x(`entity:entity ${r}`);let o=new n.CompletionItem(r);o.label=`&${r}`,x(`entity:completionItem.label ${o.label}`),o.kind=n.CompletionItemKind.Keyword,x(`entity:completionItem.kind ${o.kind}`),o.filterText=r.substring(-1),x(`entity:completionItem.filterText ${o.filterText}`);const i=e.lineAt(t).text;x(`entity:lineText ${i}`);const a=i.slice(0,t.character);x(`entity:textBeforeCursor ${a}`);const s=a.lastIndexOf("&");x(`entity:indexOfAmpersand ${s}`);const l=-1!==s?a.slice(s):"";x(`entity:textFromAmpersand ${l}`);const u=i[t.character-1]||"";x(`entity:charBeforeCursor ${u}`),o.insertText="&"===u||l?new n.SnippetString(r):new n.SnippetString(`&${r}`),c.push(o)}),x(`Number of results: ${c.length}`),c}},"&")),n.workspace.getConfiguration("daps").get("previewLinkScrollBoth")&&e.subscriptions.push(n.commands.registerCommand("daps.docPreview",function(r){let a=n.workspace.getConfiguration("daps").get("docPreviewImgPath");x(`preview:docPreviewImgPath ${a}`);const s=function(){const e=n.window.activeTextEditor.document.uri.fsPath;return e?e.substring(0,e.lastIndexOf("/")):(x("Cannot find active editor"),!1)}();x(`preview:activeEditorDir ${s}`),void 0===l.panel&&(l.panel=n.window.createWebviewPanel("htmlPreview","HTML Preview",n.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[n.Uri.file(i.join(s,a))]}));let c=T(r);x(`Source XML file: ${c}`);let u=`xsltproc --stringparam img.src.path ${a} ${t}/xslt/doc-preview.xsl ${c}`;x(`xsltproc cmd: ${u}`);let p=d(u).toString();p=p.replace(/<img src="([^"]+)"/g,(e,t)=>{let r=n.Uri.file(i.join(s,a,t));if(x(`preview:imgUri ${r}`),!o.existsSync(r.path)){const e=r.path.replace(/\.[^/.]+$/,".svg");x(`preview:svgPath: ${e}`),o.existsSync(e)?r=n.Uri.file(e):x(`preview:imgUri: Neither ${r.path} nor ${e} exist`)}x(`preview:final imgUri: ${r}`);const c=l.panel.webview.asWebviewUri(r);return x(`preview:imgWebviewUri ${c}`),`<img src="${c}"`});let g=`\n<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<title>HTML Preview</title>\n</head>\n<body>\n\x3c!-- Your preview content goes here --\x3e\n<div id="content">\n${p}\n</div>\n<script>\nconst vscode = acquireVsCodeApi();\nconst srcXMLfile = "${c}";\nlet scrollMap = []; // Scroll map sent from the extension\nlet isProgrammaticScroll = false; // Flag to track programmatic scrolling\n\n// Handle messages sent from the extension to the webview\nwindow.addEventListener('message', event => {\nconst message = event.data; // The JSON data sent by the extension\nswitch (message.command) {\ncase 'updateMap':\nscrollMap = message.map;\n// Enhance the scrollMap with dynamically calculated offsets\nscrollMap = scrollMap.map(entry => {\nconst element = document.getElementById(entry.id);\nreturn {\n...entry,\noffset: element ? element.offsetTop : 0\n};\n});\nconsole.log(scrollMap);\nbreak;\ncase 'syncScroll':\n// Scroll to a specific line programmatically\nconst lineToElement = scrollMap.find(item => item.line === message.line);\nif (lineToElement) {\nconst element = document.getElementById(lineToElement.id);\nif (element) {\nisProgrammaticScroll = true; // Set the flag to ignore the scroll event\nelement.scrollIntoView({ behavior: 'smooth' });\n}\n}\nbreak;\n}\n});\n\n// Send scroll messages to the extension\ndocument.addEventListener('scroll', () => {\nif (isProgrammaticScroll) {\n// Reset the flag and ignore this scroll event\nisProgrammaticScroll = false;\nreturn;\n}\n\nconst scrollPosition = window.scrollY;\n\n// Find the appropriate line based on scroll position\nlet lineToScroll = null;\nfor (let i = 0; i < scrollMap.length - 1; i++) {\nif (\nscrollPosition >= scrollMap[i].offset &&\nscrollPosition < scrollMap[i + 1].offset\n) {\nlineToScroll = scrollMap[i].line;\nbreak;\n}\n}\n\n// Send message only if a matching line was found\nif (lineToScroll !== null) {\nconsole.log({\ncommand: 'scroll',\nposition: scrollPosition,\nline: lineToScroll,\nsrcXMLfile: srcXMLfile\n});\nvscode.postMessage({\ncommand: 'scroll',\nposition: scrollPosition,\nline: lineToScroll,\nsrcXMLfile: srcXMLfile\n});\n}\n});\n<\/script>\n\n</body>\n</html>`;const m=v(n.window.activeTextEditor.document.fileName);x(`preview:scrollmap:length ${m.length}`),l.panel.webview.html=g,l.panel.webview.postMessage({command:"updateMap",map:m}),l.panel.onDidDispose(()=>{l.dispose()}),n.window.onDidChangeTextEditorVisibleRanges(e=>{const t=e.textEditor.visibleRanges[0].start.line;l.panel.webview.postMessage({command:"syncScroll",line:t})}),n.workspace.getConfiguration("daps").get("previewLinkScrollBoth")&&previewPanel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"scroll":{x(`preview:scrollPosition ${e.position}`);const t=e.srcXMLfile;x(`preview:srcXMLfile ${t}`);const r=e.line;if(x(`preview:scroll:lineToScroll ${r}`),void 0!==r){const e=n.Uri.file(t);let o=n.window.visibleTextEditors.find(t=>t.document.uri.fsPath===e.fsPath);if(!o){const t=await n.workspace.openTextDocument(e);o=await n.window.showTextDocument(t)}if(o){const e=new n.Position(r-1,0),t=new n.Range(e,e);o.revealRange(t,n.TextEditorRevealType.InCenter)}}break}}},void 0,e.subscriptions)})),n.workspace.getConfiguration("daps").get("replaceWithXMLentity")&&e.subscriptions.push(n.commands.registerCommand("daps.replaceWithEntity",async()=>{const e=n.window.activeTextEditor;if(e&&"xml"===e.document.languageId){const t=S(e.document.fileName);if(t.size>0){const r=new n.WorkspaceEdit;let o=e.document.getText();t.forEach((e,t)=>{const r=new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g");o=o.replace(r,e)});const i=new n.Range(e.document.positionAt(0),e.document.positionAt(e.document.getText().length));r.replace(e.document.uri,i,o),await n.workspace.applyEdit(r)}}})),e.subscriptions.push(n.commands.registerCommand("daps.checkLinks",()=>{const e=n.window.activeTextEditor;e?O(e.document):n.window.showInformationMessage("No active editor to check for links.")})),e.subscriptions.push(n.commands.registerCommand("daps.validate",async function(e){if(!n.workspace.workspaceFolders)return n.window.showErrorMessage("Cannot run DAPS command: No workspace folder is open."),!1;var t=await y(e);if(t){var r;const e=n.workspace.getConfiguration("daps").get("enableExtendedValidation");if(r=U(e?{DCfile:t,cmd:"validate",options:[`--extended-validation=${e}`]}:{DCfile:t,cmd:"validate"}),await L(r,"Validation succeeded."))return!0}return!1})),e.subscriptions.push(n.commands.registerCommand("daps.buildDCfile",async function(e){if(!n.workspace.workspaceFolders)return n.window.showErrorMessage("Cannot run DAPS command: No workspace folder is open."),!1;const t=n.workspace.workspaceFolders[0].uri;var o,i=await y(e);const a=n.workspace.getConfiguration("daps");if(x((o=a.get("buildTarget"))?`buildTarget from config: ${o}`:`buildTarget form picker: ${o=await n.window.showQuickPick(p)}`),i&&o){var s=U({DCfile:i,buildTarget:o});try{if(process.chdir(t.path),x(`cwd is ${t.path}`),a.get("runTerminal")){const e=r();x("Running command in terminal"),e.sendText(s),e.show(!0)}else{n.window.showInformationMessage(`Running ${s}`);let e=d(s).toString().trim();"html"==o&&(e+="index.html"),x("target build: "+e),n.window.showInformationMessage("Build succeeded.","Open document","Copy link").then(t=>{x(t),"Open document"===t?c("xdg-open "+e):"Copy link"===t&&n.env.clipboard.writeText(e)})}return!0}catch(e){n.window.showErrorMessage(`Build failed: ${e}.message`)}}return!1})),e.subscriptions.push(n.commands.registerCommand("daps.buildXMLfile",async function(e){var t=T(e),o=await E();if(o){var i={XMLfile:t,buildTarget:o,options:["--norefcheck"]};"html"==o&&i.options.push("--single");var a=U(i);const e=n.workspace.getConfiguration("daps");try{if(await F(t),e.get("runTerminal")){const e=r();x("Running command in terminal"),e.sendText(a),e.show(!0)}else{n.window.showInformationMessage(`Running ${a}`);let e=d(a).toString().trim();"html"==o&&(e+="index.html"),x("target build: "+e),n.window.showInformationMessage("Build succeeded.","Open document","Copy link").then(t=>{x(t),"Open document"===t?c("xdg-open "+e):"Copy link"===t&&n.env.clipboard.writeText(e)})}return!0}catch(e){n.window.showErrorMessage(`Build failed: ${e.message}`)}}})),e.subscriptions.push(n.commands.registerCommand("daps.buildRootId",async function(e){if(n.workspace.workspaceFolders){var r=await E(),o=await y(),i=await async function(e,r){if(!n.workspace.workspaceFolders)return void n.window.showErrorMessage("Cannot get Root ID: No workspace folder is open.");var o;const i=n.workspace.getConfiguration("daps");if(e){const e=n.window.activeTextEditor,t=e.selection;if(t&&!t.isEmpty){const r=new n.Range(t.start.line,t.start.character,t.end.line,t.end.character);o=e.document.getText(r)}x(`rootId from context: ${o}`)}else i.get("buildRootId")?x(`rootId from config: ${o=i.get("buildRootId")}`):(o=await n.window.showQuickPick(function(e){if(!n.workspace.workspaceFolders)return n.window.showErrorMessage("Cannot get Root IDs: No workspace folder is open."),[];const r=n.workspace.workspaceFolders[0].uri;process.chdir(r.path),x(`cwd is ${r.path}`);var o=`sh -c "cat \`daps -d ${e} bigfile | tail -n1\` | xsltproc ${t}/xslt/get-ids-from-structure.xsl - | cut -d# -f2"`;x(`root IDs cmd: ${o}`);var i=d(o).toString().trim().split("\n");return x(`Count of root IDs: ${i.length}`),i}(r)),x(`rootId form picker: ${o}`));return o}(e,o);if(o&&i&&r){const e=U({DCfile:o,buildTarget:r,rootId:i});return await L(e,"Build succeeded.",async e=>{let t=e.toString().trim();"html"==r&&(t+="index.html"),x("target build: "+t),n.window.showInformationMessage("Build succeeded.","Open document","Copy link").then(e=>{x(e),"Open document"===e?c("xdg-open "+t):"Copy link"===e&&n.env.clipboard.writeText(t)})})}return!1}n.window.showErrorMessage("Cannot run DAPS command: No workspace folder is open.")})),e.subscriptions.push(n.commands.registerCommand("daps.XMLformat",async function(e){var t;if(e)x(`XMLfile from context: ${t=e.path}`);else{if(!n.window.activeTextEditor)return console.error("No XML file specified or active"),!1;x(`XML file from active editor: ${t=n.window.activeTextEditor.document.fileName}`)}try{var r=null;await F(t);const e=n.workspace.getConfiguration("daps");return r=`${e.get("XMLformatExecutable")} -i ${t}`,e.get("XMLformatConfigFile")&&(r+=` -f ${e.get("XMLformatConfigFile")}`),x(`XML format cmd: ${r}`),d(r),!0}catch(e){return n.window.showErrorMessage(`XMLformat failed: ${e.message}`),!1}}))},deactivate:function(){}}},582(e,t){"use strict";function r(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var n=r({HTML:"text/html",isHTML:function(e){return e===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),o=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===o.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.find=function(e,t,r){if(void 0===r&&(r=Array.prototype),e&&"function"==typeof r.find)return r.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var o=e[n];if(t.call(void 0,o,n,e))return o}},t.freeze=r,t.MIME_TYPE=n,t.NAMESPACE=o},752(e,t,r){var n=r(582),o=r(722),i=r(559),a=r(466),s=o.DOMImplementation,c=n.NAMESPACE,l=a.ParseError,u=a.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function p(e){this.options=e||{locator:{}}}function g(){this.cdata=!1}function m(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function h(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function f(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function w(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}p.prototype.parseFromString=function(e,t){var r=this.options,n=new u,o=r.domBuilder||new g,a=r.errorHandler,s=r.locator,l=r.xmlns||{},p=/\/x?html?$/.test(t),m=p?i.HTML_ENTITIES:i.XML_ENTITIES;s&&o.setDocumentLocator(s),n.errorHandler=function(e,t,r){if(!e){if(t instanceof g)return t;e=t}var n={},o=e instanceof Function;function i(t){var i=e[t];!i&&o&&(i=2==e.length?function(r){e(t,r)}:e),n[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+h(r))}||function(){}}return r=r||{},i("warning"),i("error"),i("fatalError"),n}(a,o,s),n.domBuilder=r.domBuilder||o,p&&(l[""]=c.HTML),l.xml=l.xml||c.XML;var f=r.normalizeLineEndings||d;return e&&"string"==typeof e?n.parse(f(e),l,m):n.errorHandler.error("invalid doc source"),o.doc},g.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var o=this.doc,i=o.createElementNS(e,r||t),a=n.length;w(this,i),this.currentElement=i,this.locator&&m(this.locator,i);for(var s=0;s<a;s++){e=n.getURI(s);var c=n.getValue(s),l=(r=n.getQName(s),o.createAttributeNS(e,r));this.locator&&m(n.getLocator(s),l),l.value=l.nodeValue=c,i.setAttributeNode(l)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&m(this.locator,r),w(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=f.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&m(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=f.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&m(this.locator,n),w(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var o=n.createDocumentType(e,t,r);this.locator&&m(this.locator,o),w(this,o),this.doc.doctype=o}},warning:function(e){console.warn("[xmldom warning]\t"+e,h(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,h(this.locator))},fatalError:function(e){throw new l(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){g.prototype[e]=function(){return null}}),t.DOMParser=p},722(e,t,r){var n=r(582),o=n.find,i=n.NAMESPACE;function a(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function c(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(a):[]}(e);return Object.keys(t.reduce(s,{}))}function l(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function u(e,t){var r=e.prototype;if(!(r instanceof t)){function n(){}n.prototype=t.prototype,l(r,n=new n),e.prototype=r=n}r.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),r.constructor=e)}var d={},p=d.ELEMENT_NODE=1,g=d.ATTRIBUTE_NODE=2,m=d.TEXT_NODE=3,h=d.CDATA_SECTION_NODE=4,f=d.ENTITY_REFERENCE_NODE=5,w=d.ENTITY_NODE=6,b=d.PROCESSING_INSTRUCTION_NODE=7,v=d.COMMENT_NODE=8,x=d.DOCUMENT_NODE=9,y=d.DOCUMENT_TYPE_NODE=10,E=d.DOCUMENT_FRAGMENT_NODE=11,N=d.NOTATION_NODE=12,C={},T={},D=(C.INDEX_SIZE_ERR=(T[1]="Index size error",1),C.DOMSTRING_SIZE_ERR=(T[2]="DOMString size error",2),C.HIERARCHY_REQUEST_ERR=(T[3]="Hierarchy request error",3)),S=(C.WRONG_DOCUMENT_ERR=(T[4]="Wrong document",4),C.INVALID_CHARACTER_ERR=(T[5]="Invalid character",5),C.NO_DATA_ALLOWED_ERR=(T[6]="No data allowed",6),C.NO_MODIFICATION_ALLOWED_ERR=(T[7]="No modification allowed",7),C.NOT_FOUND_ERR=(T[8]="Not found",8)),k=(C.NOT_SUPPORTED_ERR=(T[9]="Not supported",9),C.INUSE_ATTRIBUTE_ERR=(T[10]="Attribute in use",10));function L(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,T[e]),this.message=T[e],Error.captureStackTrace&&Error.captureStackTrace(this,L);return r.code=e,t&&(this.message=this.message+": "+t),r}function A(){}function I(e,t){this._node=e,this._refresh=t,q(this)}function q(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if(be(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var n=r.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];l(r,e),e._inc=t}}function $(){}function R(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function M(e,t,r,n){if(n?t[R(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var o=e.ownerDocument;o&&(n&&B(o,e,n),function(e,t,r){e&&e._inc++,r.namespaceURI===i.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}(o,e,r))}}function _(e,t,r){var n=R(t,r);if(!(n>=0))throw new L(S,new Error(e.tagName+"@"+r));for(var o=t.length-1;n<o;)t[n]=t[++n];if(t.length=o,e){var i=e.ownerDocument;i&&(B(i,e,r),r.ownerElement=null)}}function O(){}function P(){}function U(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function F(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(F(e,t))return!0}while(e=e.nextSibling)}function V(){this.ownerDocument=this}function B(e,t,r,n){e&&e._inc++,r.namespaceURI===i.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function X(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var o=t.firstChild,i=0;o;)n[i++]=o,o=o.nextSibling;n.length=i,delete n[n.length]}}}function H(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,X(e.ownerDocument,e),t}function G(e){return e&&e.nodeType===P.DOCUMENT_TYPE_NODE}function z(e){return e&&e.nodeType===P.ELEMENT_NODE}function j(e){return e&&e.nodeType===P.TEXT_NODE}function W(e,t){var r=e.childNodes||[];if(o(r,z)||G(t))return!1;var n=o(r,G);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function Y(e,t){var r=e.childNodes||[];if(o(r,function(e){return z(e)&&e!==t}))return!1;var n=o(r,G);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function Q(e,t,r){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===P.DOCUMENT_FRAGMENT_NODE){var a=i.filter(z);if(a.length>1||o(i,j))throw new L(D,"More than one element or text in fragment");if(1===a.length&&!W(e,r))throw new L(D,"Element in fragment can not be inserted before doctype")}if(z(t)&&!W(e,r))throw new L(D,"Only one element can be added and only after doctype");if(G(t)){if(o(n,G))throw new L(D,"Only one doctype is allowed");var s=o(n,z);if(r&&n.indexOf(s)<n.indexOf(r))throw new L(D,"Doctype can only be inserted before an element");if(!r&&s)throw new L(D,"Doctype can not be appended since element is present")}}function Z(e,t,r){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===P.DOCUMENT_FRAGMENT_NODE){var a=i.filter(z);if(a.length>1||o(i,j))throw new L(D,"More than one element or text in fragment");if(1===a.length&&!Y(e,r))throw new L(D,"Element in fragment can not be inserted before doctype")}if(z(t)&&!Y(e,r))throw new L(D,"Only one element can be added and only after doctype");if(G(t)){if(o(n,function(e){return G(e)&&e!==r}))throw new L(D,"Only one doctype is allowed");var s=o(n,z);if(r&&n.indexOf(s)<n.indexOf(r))throw new L(D,"Doctype can only be inserted before an element")}}function K(e,t,r,n){(function(e,t,r){if(!function(e){return e&&(e.nodeType===P.DOCUMENT_NODE||e.nodeType===P.DOCUMENT_FRAGMENT_NODE||e.nodeType===P.ELEMENT_NODE)}(e))throw new L(D,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new L(S,"child not in parent");if(!function(e){return e&&(z(e)||j(e)||G(e)||e.nodeType===P.DOCUMENT_FRAGMENT_NODE||e.nodeType===P.COMMENT_NODE||e.nodeType===P.PROCESSING_INSTRUCTION_NODE)}(t)||G(t)&&e.nodeType!==P.DOCUMENT_NODE)throw new L(D,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)})(e,t,r),e.nodeType===P.DOCUMENT_NODE&&(n||Q)(e,t,r);var o=t.parentNode;if(o&&o.removeChild(t),t.nodeType===E){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var s=r?r.previousSibling:e.lastChild;i.previousSibling=s,a.nextSibling=r,s?s.nextSibling=i:e.firstChild=i,null==r?e.lastChild=a:r.previousSibling=a;do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));return X(e.ownerDocument||e,e),t.nodeType==E&&(t.firstChild=t.lastChild=null),t}function J(){this._nsMap={}}function ee(){}function te(){}function re(){}function ne(){}function oe(){}function ie(){}function ae(){}function se(){}function ce(){}function le(){}function ue(){}function de(){}function pe(e,t){var r=[],n=9==this.nodeType&&this.documentElement||this,o=n.prefix,i=n.namespaceURI;if(i&&null==o&&null==(o=n.lookupPrefix(i)))var a=[{namespace:i,prefix:null}];return he(this,r,e,t,a),r.join("")}function ge(e,t,r){var n=e.prefix||"",o=e.namespaceURI;if(!o)return!1;if("xml"===n&&o===i.XML||o===i.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===n)return s.namespace!==o}return!0}function me(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,U),'"')}function he(e,t,r,n,o){if(o||(o=[]),n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case p:var a=e.attributes,s=a.length,c=e.firstChild,l=e.tagName,u=l;if(!(r=i.isHTML(e.namespaceURI)||r)&&!e.prefix&&e.namespaceURI){for(var d,w=0;w<a.length;w++)if("xmlns"===a.item(w).name){d=a.item(w).value;break}if(!d)for(var N=o.length-1;N>=0;N--)if(""===(C=o[N]).prefix&&C.namespace===e.namespaceURI){d=C.namespace;break}if(d!==e.namespaceURI)for(N=o.length-1;N>=0;N--){var C;if((C=o[N]).namespace===e.namespaceURI){C.prefix&&(u=C.prefix+":"+l);break}}}t.push("<",u);for(var T=0;T<s;T++)"xmlns"==(D=a.item(T)).prefix?o.push({prefix:D.localName,namespace:D.value}):"xmlns"==D.nodeName&&o.push({prefix:"",namespace:D.value});for(T=0;T<s;T++){var D,S,k;ge(D=a.item(T),0,o)&&(me(t,(S=D.prefix||"")?"xmlns:"+S:"xmlns",k=D.namespaceURI),o.push({prefix:S,namespace:k})),he(D,t,r,n,o)}if(l===u&&ge(e,0,o)&&(me(t,(S=e.prefix||"")?"xmlns:"+S:"xmlns",k=e.namespaceURI),o.push({prefix:S,namespace:k})),c||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),r&&/^script$/i.test(l))for(;c;)c.data?t.push(c.data):he(c,t,r,n,o.slice()),c=c.nextSibling;else for(;c;)he(c,t,r,n,o.slice()),c=c.nextSibling;t.push("</",u,">")}else t.push("/>");return;case x:case E:for(c=e.firstChild;c;)he(c,t,r,n,o.slice()),c=c.nextSibling;return;case g:return me(t,e.name,e.value);case m:return t.push(e.data.replace(/[<&>]/g,U));case h:return t.push("<![CDATA[",e.data,"]]>");case v:return t.push("\x3c!--",e.data,"--\x3e");case y:var L=e.publicId,A=e.systemId;if(t.push("<!DOCTYPE ",e.name),L)t.push(" PUBLIC ",L),A&&"."!=A&&t.push(" ",A),t.push(">");else if(A&&"."!=A)t.push(" SYSTEM ",A,">");else{var I=e.internalSubset;I&&t.push(" [",I,"]"),t.push(">")}return;case b:return t.push("<?",e.target," ",e.data,"?>");case f:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function fe(e,t,r){var n;switch(t.nodeType){case p:(n=t.cloneNode(!1)).ownerDocument=e;case E:break;case g:r=!0}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var o=t.firstChild;o;)n.appendChild(fe(e,o,r)),o=o.nextSibling;return n}function we(e,t,r){var n=new t.constructor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=t[o];"object"!=typeof i&&i!=n[o]&&(n[o]=i)}switch(t.childNodes&&(n.childNodes=new A),n.ownerDocument=e,n.nodeType){case p:var a=t.attributes,s=n.attributes=new $,c=a.length;s._ownerElement=n;for(var l=0;l<c;l++)n.setAttributeNode(we(e,a.item(l),!0));break;case g:r=!0}if(r)for(var u=t.firstChild;u;)n.appendChild(we(e,u,r)),u=u.nextSibling;return n}function be(e,t,r){e[t]=r}C.INVALID_STATE_ERR=(T[11]="Invalid state",11),C.SYNTAX_ERR=(T[12]="Syntax error",12),C.INVALID_MODIFICATION_ERR=(T[13]="Invalid modification",13),C.NAMESPACE_ERR=(T[14]="Invalid namespace",14),C.INVALID_ACCESS_ERR=(T[15]="Invalid access",15),L.prototype=Error.prototype,l(C,L),A.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)he(this[n],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},I.prototype.item=function(e){return q(this),this[e]||null},u(I,A),$.prototype={length:0,item:A.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new L(k);var r=this.getNamedItem(e.nodeName);return M(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new L(k);return t=this.getNamedItemNS(e.namespaceURI,e.localName),M(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return _(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return _(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},O.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=new V;if(n.implementation=this,n.childNodes=new A,n.doctype=r||null,r&&n.appendChild(r),t){var o=n.createElementNS(e,t);n.appendChild(o)}return n},createDocumentType:function(e,t,r){var n=new ie;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=r||"",n}},P.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return K(this,e,t)},replaceChild:function(e,t){K(this,e,t,Z),t&&this.removeChild(t)},removeChild:function(e){return H(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return we(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==m&&e.nodeType==m?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===e)return n;t=t.nodeType==g?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==g?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},l(d,P),l(d,P.prototype),V.prototype={nodeName:"#document",nodeType:x,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==E){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return K(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===p&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),H(this,e)},replaceChild:function(e,t){K(this,e,t,Z),e.ownerDocument=this,t&&this.removeChild(t),z(e)&&(this.documentElement=e)},importNode:function(e,t){return fe(this,e,t)},getElementById:function(e){var t=null;return F(this.documentElement,function(r){if(r.nodeType==p&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=c(e);return new I(this,function(r){var n=[];return t.length>0&&F(r.documentElement,function(o){if(o!==r&&o.nodeType===p){var i=o.getAttribute("class");if(i){var a=e===i;if(!a){var s=c(i);a=t.every((l=s,function(e){return l&&-1!==l.indexOf(e)}))}a&&n.push(o)}}var l}),n})},createElement:function(e){var t=new J;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new A,(t.attributes=new $)._ownerElement=t,t},createDocumentFragment:function(){var e=new le;return e.ownerDocument=this,e.childNodes=new A,e},createTextNode:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new oe;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new ue;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new ee;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ce;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new J,n=t.split(":"),o=r.attributes=new $;return r.childNodes=new A,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,o._ownerElement=r,r},createAttributeNS:function(e,t){var r=new ee,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},u(V,P),J.prototype={nodeType:p,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===E?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,X(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new I(this,function(t){var r=[];return F(t,function(n){n===t||n.nodeType!=p||"*"!==e&&n.tagName!=e||r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new I(this,function(r){var n=[];return F(r,function(o){o===r||o.nodeType!==p||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||n.push(o)}),n})}},V.prototype.getElementsByTagName=J.prototype.getElementsByTagName,V.prototype.getElementsByTagNameNS=J.prototype.getElementsByTagNameNS,u(J,P),ee.prototype.nodeType=g,u(ee,P),te.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(T[D])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},u(te,P),re.prototype={nodeName:"#text",nodeType:m,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},u(re,te),ne.prototype={nodeName:"#comment",nodeType:v},u(ne,te),oe.prototype={nodeName:"#cdata-section",nodeType:h},u(oe,te),ie.prototype.nodeType=y,u(ie,P),ae.prototype.nodeType=N,u(ae,P),se.prototype.nodeType=w,u(se,P),ce.prototype.nodeType=f,u(ce,P),le.prototype.nodeName="#document-fragment",le.prototype.nodeType=E,u(le,P),ue.prototype.nodeType=b,u(ue,P),de.prototype.serializeToString=function(e,t,r){return pe.call(e,t,r)},P.prototype.toString=pe;try{if(Object.defineProperty){function ve(e){switch(e.nodeType){case p:case E:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ve(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(I.prototype,"length",{get:function(){return q(this),this.$$length}}),Object.defineProperty(P.prototype,"textContent",{get:function(){return ve(this)},set:function(e){switch(this.nodeType){case p:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),be=function(e,t,r){e["$$"+t]=r}}}catch(xe){}t.DocumentType=ie,t.DOMException=L,t.DOMImplementation=O,t.Element=J,t.Node=P,t.NodeList=A,t.XMLSerializer=de},559(e,t,r){"use strict";var n=r(582).freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES},978(e,t,r){var n=r(722);t.DOMImplementation=n.DOMImplementation,t.XMLSerializer=n.XMLSerializer,t.DOMParser=r(752).DOMParser},466(e,t,r){var n=r(582).NAMESPACE,o=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+o.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+o.source+i.source+"*(?::"+o.source+i.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function c(){}function l(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,r,o,i,a){function s(e,t,n){r.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),n)}for(var c,l=++t,u=0;;){var d=e.charAt(l);switch(d){case"=":if(1===u)c=e.slice(t,l),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(a.warning('attribute value must after "="'),c=e.slice(t,l)),t=l+1,!((l=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(c,p=e.slice(t,l),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');s(c,p=e.slice(t,l),t),a.warning('attribute "'+c+'" missed start quot('+d+")!!"),t=l+1,u=5}break;case"/":switch(u){case 0:r.setTagName(e.slice(t,l));case 5:case 6:case 7:u=7,r.closed=!0;case 4:case 1:break;case 2:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==u&&r.setTagName(e.slice(t,l)),l;case">":switch(u){case 0:r.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(p=e.slice(t,l)).slice(-1)&&(r.closed=!0,p=p.slice(0,-1));case 2:2===u&&(p=c),4==u?(a.warning('attribute "'+p+'" missed quot(")!'),s(c,p,t)):(n.isHTML(o[""])&&p.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+p+'" missed value!! "'+p+'" instead!!'),s(p,p,t));break;case 3:throw new Error("attribute value missed!!")}return l;case"":d=" ";default:if(d<=" ")switch(u){case 0:r.setTagName(e.slice(t,l)),u=6;break;case 1:c=e.slice(t,l),u=2;break;case 4:var p=e.slice(t,l);a.warning('attribute "'+p+'" missed quot(")!!'),s(c,p,t);case 5:u=6}else switch(u){case 2:r.tagName,n.isHTML(o[""])&&c.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),s(c,c,t),t=l,u=1;break;case 5:a.warning('attribute space is required"'+c+'"!!');case 6:u=1,t=l;break;case 3:u=4,t=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function d(e,t,r){for(var o=e.tagName,i=null,a=e.length;a--;){var s=e[a],c=s.qName,l=s.value;if((g=c.indexOf(":"))>0)var u=s.prefix=c.slice(0,g),d=c.slice(g+1),p="xmlns"===u&&d;else d=c,u=null,p="xmlns"===c&&"";s.localName=d,!1!==p&&(null==i&&(i={},m(r,r={})),r[p]=i[p]=l,s.uri=n.XMLNS,t.startPrefixMapping(p,l))}for(a=e.length;a--;)(u=(s=e[a]).prefix)&&("xml"===u&&(s.uri=n.XML),"xmlns"!==u&&(s.uri=r[u||""]));var g;(g=o.indexOf(":"))>0?(u=e.prefix=o.slice(0,g),d=e.localName=o.slice(g+1)):(u=null,d=e.localName=o);var h=e.uri=r[u||""];if(t.startElement(h,d,o,e),!e.closed)return e.currentNSMap=r,e.localNSMap=i,!0;if(t.endElement(h,d,o),i)for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&t.endPrefixMapping(u)}function p(e,t,r,n,o){if(/^(?:script|textarea)$/i.test(r)){var i=e.indexOf("</"+r+">",t),a=e.substring(t+1,i);if(/[&<]/.test(a))return/^script$/i.test(r)?(o.characters(a,0,a.length),i):(a=a.replace(/&#?\w+;/g,n),o.characters(a,0,a.length),i)}return t+1}function g(e,t,r,n){var o=n[r];return null==o&&((o=e.lastIndexOf("</"+r+">"))<t&&(o=e.lastIndexOf("</"+r)),n[r]=o),o<t}function m(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function h(e,t,r,n){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(r.comment(e,t+4,o-t-4),o+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,o-t-9),r.endCDATA(),o+3}var i=function(e,t){var r,n=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=t,o.exec(e);r=o.exec(e);)if(n.push(r),r[1])return n}(e,t),a=i.length;if(a>1&&/!doctype/i.test(i[0][0])){var s=i[1][0],c=!1,l=!1;a>3&&(/^public$/i.test(i[2][0])?(c=i[3][0],l=a>4&&i[4][0]):/^system$/i.test(i[2][0])&&(l=i[3][0]));var u=i[a-1];return r.startDTD(s,c,l),r.endDTD(),u.index+u[0].length}return-1}function f(e,t,r){var n=e.indexOf("?>",t);if(n){var o=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,r.processingInstruction(o[1],o[2]),n+2):-1}return-1}function w(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,c.prototype={parse:function(e,t,r){var o=this.domBuilder;o.startDocument(),m(t,t={}),function(e,t,r,o,i){function a(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(r,t)?r[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function c(t){if(t>C){var r=e.substring(C,t).replace(/&#?\w+;/g,a);y&&m(C),o.characters(r,0,t-C),C=t}}function m(t,r){for(;t>=v&&(r=x.exec(e));)b=r.index,v=b+r[0].length,y.lineNumber++;y.columnNumber=t-b+1}for(var b=0,v=0,x=/.*(?:\r\n?|\n)|.*$/g,y=o.locator,E=[{currentNSMap:t}],N={},C=0;;){try{var T=e.indexOf("<",C);if(T<0){if(!e.substr(C).match(/^\s*$/)){var D=o.doc,S=D.createTextNode(e.substr(C));D.appendChild(S),o.currentElement=S}return}switch(T>C&&c(T),e.charAt(T+1)){case"/":var k=e.indexOf(">",T+3),L=e.substring(T+2,k).replace(/[ \t\n\r]+$/g,""),A=E.pop();k<0?(L=e.substring(T+2).replace(/[\s<].*/,""),i.error("end tag name: "+L+" is not complete:"+A.tagName),k=T+1+L.length):L.match(/\s</)&&(L=L.replace(/[\s<].*/,""),i.error("end tag name: "+L+" maybe not complete"),k=T+1+L.length);var I=A.localNSMap,q=A.tagName==L;if(q||A.tagName&&A.tagName.toLowerCase()==L.toLowerCase()){if(o.endElement(A.uri,A.localName,L),I)for(var $ in I)Object.prototype.hasOwnProperty.call(I,$)&&o.endPrefixMapping($);q||i.fatalError("end tag name: "+L+" is not match the current start tagName:"+A.tagName)}else E.push(A);k++;break;case"?":y&&m(T),k=f(e,T,o);break;case"!":y&&m(T),k=h(e,T,o,i);break;default:y&&m(T);var R=new w,M=E[E.length-1].currentNSMap,_=(k=u(e,T,R,M,a,i),R.length);if(!R.closed&&g(e,k,R.tagName,N)&&(R.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),y&&_){for(var O=l(y,{}),P=0;P<_;P++){var U=R[P];m(U.offset),U.locator=l(y,{})}o.locator=O,d(R,o,M)&&E.push(R),o.locator=y}else d(R,o,M)&&E.push(R);n.isHTML(R.uri)&&!R.closed?k=p(e,k,R.tagName,a,o):k++}}catch(e){if(e instanceof s)throw e;i.error("element parse error: "+e),k=-1}k>C?C=k:c(Math.max(T,C)+1)}}(e,t,r,o,this.errorHandler),o.endDocument()}},w.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=c,t.ParseError=s},398(e){"use strict";e.exports=require("vscode")},317(e){"use strict";e.exports=require("child_process")},896(e){"use strict";e.exports=require("fs")},611(e){"use strict";e.exports=require("http")},692(e){"use strict";e.exports=require("https")},928(e){"use strict";e.exports=require("path")}},t={},r=function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(12);module.exports=r})();